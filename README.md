# 360도 영상 기반 창문형 디스플레이 구현

> 기간: 2024년 3월 ~ 10월  
> 형태: 전람회 프로젝트  
> 주제: 화면에 깊이를 더하다! 사용자 위치 감응형 VR 디스플레이 알고리즘 및 시스템 개발

## 개요

본 프로젝트는 사용자의 눈 위치와 거리 정보를 실시간으로 추적하여,  
360도 영상을 실제 창문처럼 자연스럽게 표시하는 디스플레이 시스템을 구현하는 것을 목표로 하였습니다.  
이를 통해 VR 기기 없이도 사용자의 움직임에 따라 시점이 변화하는 몰입형 체험이 가능하도록 설계하였습니다.

## 연구 동기

- 일반적인 360도 영상은 고정된 시점에서만 체험이 가능하여 몰입감이 떨어지는 한계가 있습니다.
- 실제 창문을 통해 외부를 바라볼 때와 같은 자연스러운 시점 변화를 구현함으로써,  
  VR 장비 없이도 몰입형 경험을 제공하고자 하였습니다.

## 레포지터리 구조

- **_CHANGING**: 실시간 수정 중인 코드 모음 (참고용)
- **_CODES**: 백업용 코드 (참고용)
- **_COMMENTS**: 개념 설명용 주석 추가 코드 (참고용)
- **_RESULT**: 최종 결과 코드 모음 (★ 주로 이 폴더를 사용)
- **_TRIAL_N_ERROR**: 시행착오 과정 코드 (참고용)

## 주요 기능 및 방법

### 1. 사용자 얼굴 인식 및 거리 측정

- MediaPipe Face Mesh를 활용하여 실시간으로 양쪽 눈의 랜드마크를 인식합니다.
- 인식된 눈 좌표를 이용하여 사용자의 얼굴 크기 및 거리(ry)를 계산합니다.

### 2. 시점 기반 화면 리매핑

- 사용자의 눈 위치(eye_center)와 거리 정보를 기반으로
- 디스플레이에 보이는 360도 영상의 시야를 동적으로 조정합니다.
- Sphere Mapping, Plane Mapping 방식을 사용하여 시야를 왜곡 없이 재구성합니다.

### 3. 다양한 모드 지원

- **사용자 고정 모드**: 사용자는 고정, 디스플레이만 이동
- **디스플레이 고정 모드**: 디스플레이가 고정되고, 사용자의 이동을 반영
- **거울 모드**: 반사된 시야를 제공하여 거울과 같은 효과 구현
- **투명 모드**: 후면 웹캠을 활용하여 투명한 창처럼 보이는 모드 구현

### 4. 다중 모니터 연동

- 1~3개의 모니터를 연동하여 넓은 시야각과 몰입감 강화
- 모니터 별 위치 조정, 회전, 거리 설정 기능 제공

## 구현 기술

- Python (OpenCV, MediaPipe, CuPy)
- 얼굴 랜드마크 탐지 및 눈 중심 좌표 계산
- 사용자의 실시간 거리 추정
- 3D 공간 기하 변환 및 매핑
- GPU 가속을 통한 빠른 영상 처리
- Matplotlib 3D 시각화 (모니터 설정 확인용)

## 기대 효과

- VR 기기 없이 몰입형 360도 체험 가능
- 공간 현실감을 부여하는 창문형 디스플레이 시스템 구축
- 향후 AR/VR 연구 및 몰입형 미디어 콘텐츠 개발에 활용 가능

## 사용 라이브러리

- OpenCV
- MediaPipe
- CuPy
- NumPy
- screeninfo

## 키워드

- 창문형 디스플레이
- 360도 영상 리매핑
- 사용자 시점 추적
- 몰입형 체험
- 실시간 얼굴 인식
